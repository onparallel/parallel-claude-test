# AWS

Below there's a description on how the different services of AWS are used:

# EC2

We use EC2 for deploying our application. On each release we launch new instances (number of instances can be changed, right now it's 2 on production and 1 in staging). The tarball with the release is downloaded in the instance and we run all the systemd services. Once everything is running the load balanced is switched to the new instances and the old ones are stopped.

Additionally we use EC2 instances for:

- Internal tools such a retool instance
- A bastion host that we use in order to access the VPC

# RDS

Our main database is an RDS instance using Postgres

# S3

We store all files on S3. Files such as uploads by users or files generated by our app that need to be downloaded by users. We also store the tarballs of the different releases.

# Cloudfront

Cloudfront is the CDN we use for static files

# Cloudwatch

We use cloudwatch for monitoring things like instance stats, application errors, slow queries, http requests, etc.

# Lambda

We use lambda for small things, usually related with ad-hoc custom integrations for some of our clients.

# SES

We use SES for sending emails

# SQS

We use SQS for async task processing. Things like

- Sending emails
- Generating documents
- Processing events
