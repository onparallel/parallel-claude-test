schema:
  - ../server/parallel-schema.graphql
  - utils/apollo/client-schema.graphql
documents:
  - "{pages,components,utils}/**/*.{tsx,ts}"
generates:
  ./graphql/__support-methods.ts:
    plugins:
      - ./build/support-methods
  ./graphql/__fragment-matcher.ts:
    plugins:
      - fragment-matcher
  ./graphql/__types.ts:
    plugins:
      - typescript
      - typescript-operations
      - typed-document-node
    config:
      useTypeImports: true
      strictScalars: true
      scalars:
        DateTime: string
        JSON: any
        JSONObject: "{ [key: string]: any }"
        Upload: File
        GID: string
        Duration: date-fns#Duration
      namingConvention: keep
      preResolveTypes: true
      maybeValue: T | null
      declarationKind: interface
      skipTypeNameForRoot: true
      exportFragmentSpreadSubTypes: true
      enumsAsTypes: true
      addDocBlocks: false
      documentMode: graphQLTag

hooks:
  afterAllFileWrite:
    - yarn prettier --write
