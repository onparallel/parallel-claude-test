### This file was generated by Nexus Schema
### Do not make changes to this file directly

"""
JSON with AWS S3 url and required form data to make a POST request
"""
type AWSPresignedPostData {
  fields: JSONObject!
  url: String!
}

type AccessActivatedEvent implements PetitionEvent {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
  user: User
}

type AccessDeactivatedEvent implements PetitionEvent {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
  user: User
}

type AccessDelegatedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  newAccess: PetitionAccess!
  originalAccess: PetitionAccess!
}

type AccessOpenedEvent implements PetitionEvent {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
}

enum BatchSendSigningMode {
  """
  Allow configured signer(s) to sign every petition on the batch
  """
  COPY_SIGNATURE_SETTINGS

  """
  Disable eSignature on every petition of this batch.
  """
  DISABLE_SIGNATURE

  """
  Let recipients of each group to choose who will sign the petitions.
  """
  LET_RECIPIENT_CHOOSE
}

enum ChangePasswordResult {
  INCORRECT_PASSWORD
  INVALID_NEW_PASSWORD
  SUCCESS
}

type CommentCreatedUserNotification implements PetitionUserNotification {
  comment: PetitionFieldComment!
  createdAt: DateTime!
  field: PetitionField!
  id: GID!
  isRead: Boolean!
  petition: PetitionBase!
}

type CommentDeletedEvent implements PetitionEvent {
  createdAt: DateTime!
  deletedBy: UserOrPetitionAccess
  field: PetitionField
  id: GID!
}

type CommentPublishedEvent implements PetitionEvent {
  comment: PetitionFieldComment
  createdAt: DateTime!
  field: PetitionField
  id: GID!
}

"""
A contact in the system.
"""
type Contact implements Timestamps {
  """
  The petition accesses for this contact
  """
  accesses(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int
  ): PetitionAccessPagination!

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The email of the contact.
  """
  email: String!

  """
  The first name of the contact.
  """
  firstName: String

  """
  The full name of the contact.
  """
  fullName: String

  """
  The ID of the contact.
  """
  id: GID!

  """
  The last name of the contact.
  """
  lastName: String

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type ContactPagination {
  """
  The requested slice of items.
  """
  items: [Contact!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

input CreateContactInput {
  email: String!
  firstName: String
  lastName: String
}

type CreateFileUploadFieldAttachment {
  attachment: PetitionFieldAttachment!
  presignedPostData: AWSPresignedPostData!
}

type CreateFileUploadReply {
  presignedPostData: AWSPresignedPostData!
  reply: PublicPetitionFieldReply!
}

interface CreatedAt {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!
}

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

"""
The effective permission for a petition and user
"""
type EffectivePetitionUserPermission {
  """
  wether user is subscribed or not to emails and alerts of the petition
  """
  isSubscribed: Boolean!

  """
  The type of the permission.
  """
  permissionType: PetitionPermissionType!
}

enum EntityType {
  Contact
  Organization
  Petition
  User
}

enum FeatureFlag {
  API_TOKENS
  EXPORT_CUATRECASAS
  HIDE_RECIPIENT_VIEW_CONTENTS @deprecated(reason: "Don't use this")
  INTERNAL_COMMENTS
  PETITION_PDF_EXPORT
  PETITION_SIGNATURE
  SKIP_FORWARD_SECURITY
}

type FileUpload {
  contentType: String!
  filename: String!
  isComplete: Boolean!
  size: Int!
}

type FileUploadDownloadLinkResult {
  file: FileUpload
  result: Result!
  url: String
}

input FileUploadInput {
  contentType: String!
  filename: String!
  size: Int!
}

enum FilterSharedWithLogicalOperator {
  AND
  OR
}

enum FilterSharedWithOperator {
  IS_OWNER
  NOT_IS_OWNER
  NOT_SHARED_WITH
  SHARED_WITH
}

scalar GID

type GenerateUserAuthTokenResponse {
  apiKey: String!
  userAuthToken: UserAuthenticationToken!
}

type GroupPermissionAddedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  permissionGroup: UserGroup!
  permissionType: PetitionPermissionType!
  user: User
}

type GroupPermissionEditedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  permissionGroup: UserGroup!
  permissionType: PetitionPermissionType!
  user: User
}

type GroupPermissionRemovedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  permissionGroup: UserGroup!
  user: User
}

"""
The types of integrations available.
"""
enum IntegrationType {
  SIGNATURE
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON
  @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

"""
The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSONObject
  @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

"""
A public template on landing page
"""
type LandingTemplate {
  backgroundColor: String
  categories: [String!]
  descriptionHtml: String
  fieldCount: Int!
  fields: [LandingTemplateField!]!
  hasConditionals: Boolean!
  id: GID!
  imageUrl: String
  locale: PetitionLocale!
  name: String
  organizationName: String!
  ownerAvatarUrl: String
  ownerFullName: String!
  shortDescription: String
  slug: String!
  updatedAt: DateTime!
}

"""
A public template field
"""
type LandingTemplateField {
  id: GID!
  title: String
  type: PetitionFieldType!
}

type LandingTemplatePagination {
  """
  The requested slice of items.
  """
  items: [LandingTemplate!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

type LandingTemplateSample {
  category: String!
  templates(
    """
    Number of elements to take from the list.
    """
    limit: Int
    locale: PetitionLocale!

    """
    Number of elements to skip from the list.
    """
    offset: Int
  ): LandingTemplatePagination!
}

type MessageCancelledEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  message: PetitionMessage!
  user: User
}

type MessageEmailBouncedUserNotification implements PetitionUserNotification {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
  isRead: Boolean!
  petition: PetitionBase!
}

type MessageScheduledEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  message: PetitionMessage!
}

type MessageSentEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  message: PetitionMessage!
}

type Mutation {
  """
  Adds permissions on given petitions and users
  """
  addPetitionPermission(
    message: String

    """
    Wether to notify the user via email or not.
    """
    notify: Boolean = false
    permissionType: PetitionPermissionTypeRW!
    petitionIds: [GID!]!

    """
    Subscribe to notifications.
    """
    subscribe: Boolean = true
    userGroupIds: [GID!]
    userIds: [GID!]
  ): [Petition!]!

  """
  Add users to a user group
  """
  addUsersToUserGroup(userGroupId: GID!, userIds: [GID!]!): UserGroup!

  """
  Clones the petition and assigns the given user as owner and creator.
  """
  assignPetitionToUser(
    """
    Global ID of the petition
    """
    petitionId: ID!

    """
    ID of the user
    """
    userId: Int!
  ): SupportMethodResponse!

  """
  Sends different petitions to each of the specified contact groups, creating corresponding accesses and messages
  """
  batchSendPetition(
    batchSendSigningMode: BatchSendSigningMode
    body: JSON!
    contactIdGroups: [[GID!]!]!
    petitionId: GID!
    remindersConfig: RemindersConfigInput
    scheduledAt: DateTime
    subject: String!
  ): [SendPetitionResult!]!

  """
  Load contacts from an excel file, creating the ones not found on database
  """
  bulkCreateContacts(file: Upload!): [Contact!]!

  """
  Cancels a scheduled petition message.
  """
  cancelScheduledMessage(messageId: GID!, petitionId: GID!): PetitionMessage
  cancelSignatureRequest(petitionSignatureRequestId: GID!): PetitionSignatureRequest!

  """
  Changes the password for the current logged in user.
  """
  changePassword(newPassword: String!, password: String!): ChangePasswordResult!

  """
  Changes the type of a petition Field
  """
  changePetitionFieldType(
    fieldId: GID!
    force: Boolean = false
    petitionId: GID!
    type: PetitionFieldType!
  ): PetitionBaseAndField!

  """
  Clones a petition field
  """
  clonePetitionField(fieldId: GID!, petitionId: GID!): PetitionBaseAndField!

  """
  Clone petition.
  """
  clonePetitions(petitionIds: [GID!]!): [PetitionBase!]!

  """
  Clones the user group with all its members
  """
  cloneUserGroup(locale: String, userGroupIds: [GID!]!): [UserGroup!]!

  """
  Create a contact.
  """
  createContact(data: CreateContactInput!): Contact!

  """
  Creates a reply to a file upload field.
  """
  createFileUploadReply(fieldId: GID!, file: Upload!, petitionId: GID!): PetitionFieldReply!

  """
  Creates a new organization.
  """
  createOrganization(
    """
    Identifier of the organization
    """
    identifier: String!

    """
    Name of the organization
    """
    name: String!
    status: OrganizationStatus!
  ): SupportMethodResponse!

  """
  Creates a new user in the same organization as the context user
  """
  createOrganizationUser(
    email: String!
    firstName: String!
    lastName: String!
    role: OrganizationRole!
  ): User!

  """
  Create petition.
  """
  createPetition(
    """
    URL to receive real-time events of this petition.
    """
    eventsUrl: String
    locale: PetitionLocale
    name: String

    """
    GID of petition to base from
    """
    petitionId: GID

    """
    Type of petition to create
    """
    type: PetitionBaseType = PETITION
  ): PetitionBase!

  """
  Creates a petition field
  """
  createPetitionField(
    petitionId: GID!
    position: Int
    type: PetitionFieldType!
  ): PetitionBaseAndField!

  """
  Generates and returns a signed url to upload a field attachment to AWS S3
  """
  createPetitionFieldAttachmentUploadLink(
    data: FileUploadInput!
    fieldId: GID!
    petitionId: GID!
  ): CreateFileUploadFieldAttachment!

  """
  Create a petition field comment.
  """
  createPetitionFieldComment(
    content: String!
    isInternal: Boolean
    petitionFieldId: GID!
    petitionId: GID!
  ): PetitionField!

  """
  Creates a new subscription on a petition
  """
  createPetitionSubscription(
    """
    URL to receive POST requests with the petition events data
    """
    endpoint: String!
    petitionId: GID!
  ): Subscription!

  """
  Creates a reply to a text or select field.
  """
  createSimpleReply(fieldId: GID!, petitionId: GID!, reply: String!): PetitionFieldReply!

  """
  Creates a tag in the user's organization
  """
  createTag(color: String!, name: String!): Tag!

  """
  Creates a new user in the specified organization.
  """
  createUser(
    """
    Email of the user
    """
    email: String!

    """
    First name of the user
    """
    firstName: String!

    """
    Last name of the user
    """
    lastName: String!

    """
    ID of the organization
    """
    organizationId: Int!

    """
    Temporary password of the user
    """
    password: String!

    """
    Role of the user
    """
    role: OrganizationRole!
  ): SupportMethodResponse!

  """
  Creates a group in the user's organization
  """
  createUserGroup(name: String!, userIds: [GID!]!): UserGroup!

  """
  Deactivates the specified active petition accesses.
  """
  deactivateAccesses(accessIds: [GID!]!, petitionId: GID!): [PetitionAccess!]!

  """
  Delete contacts.
  """
  deleteContacts(ids: [GID!]!): Result!

  """
  Soft-deletes any given petition on the database.
  """
  deletePetition(
    """
    Global ID of the petition
    """
    petitionId: ID!
  ): SupportMethodResponse!

  """
  Deletes a petition field.
  """
  deletePetitionField(fieldId: GID!, force: Boolean = false, petitionId: GID!): PetitionBase!

  """
  Delete a petition field comment.
  """
  deletePetitionFieldComment(
    petitionFieldCommentId: GID!
    petitionFieldId: GID!
    petitionId: GID!
  ): PetitionField!

  """
  Deletes a reply to a petition field.
  """
  deletePetitionReply(petitionId: GID!, replyId: GID!): Result!
  deletePetitionSubscription(subscriptionId: GID!): Result!

  """
  Delete petitions.
  """
  deletePetitions(force: Boolean = false, ids: [GID!]!): Result!

  """
  Removes the tag from every petition and soft-deletes it
  """
  deleteTag(id: GID!): Result!

  """
  Deletes a group
  """
  deleteUserGroup(ids: [GID!]!): Result!

  """
  generates a signed download link for the xlsx file containing the listings of a dynamic select field
  """
  dynamicSelectFieldFileDownloadLink(fieldId: GID!, petitionId: GID!): FileUploadDownloadLinkResult!

  """
  Edits permissions on given petitions and users
  """
  editPetitionPermission(
    permissionType: PetitionPermissionType!
    petitionIds: [GID!]!
    userGroupIds: [GID!]
    userIds: [GID!]
  ): [Petition!]!

  """
  Generates a download link for a file reply.
  """
  fileUploadReplyDownloadLink(
    petitionId: GID!

    """
    If true will use content-disposition inline instead of attachment
    """
    preview: Boolean
    replyId: GID!
  ): FileUploadDownloadLinkResult!

  """
  Generates a new API token for the context user
  """
  generateUserAuthToken(tokenName: String!): GenerateUserAuthTokenResponse!

  """
  Generates a download link for a field attachment
  """
  petitionFieldAttachmentDownloadLink(
    attachmentId: GID!
    fieldId: GID!
    petitionId: GID!
  ): FileUploadDownloadLinkResult!

  """
  Tells the backend that the field attachment was correctly uploaded to S3
  """
  petitionFieldAttachmentUploadComplete(
    attachmentId: GID!
    fieldId: GID!
    petitionId: GID!
  ): PetitionFieldAttachment!
  publicCheckVerificationCode(code: String!, keycode: ID!, token: ID!): VerificationCodeCheck!

  """
  Marks a filled petition as COMPLETED.
  If the petition does not require a review, starts the signing process. Otherwise sends email to user.
  """
  publicCompletePetition(keycode: ID!, signer: PublicPetitionSignerData): PublicPetition!

  """
  Creates a reply to a checkbox field.
  """
  publicCreateCheckboxReply(
    fieldId: GID!
    keycode: ID!
    values: [String!]!
  ): PublicPetitionFieldReply!

  """
  Creates a reply for a dynamic select field.
  """
  publicCreateDynamicSelectReply(
    fieldId: GID!
    keycode: ID!
    value: [[String]!]!
  ): PublicPetitionFieldReply!

  """
  Creates a reply to a file upload field.
  """
  publicCreateFileUploadReply(
    data: FileUploadInput!
    fieldId: GID!
    keycode: ID!
  ): CreateFileUploadReply!

  """
  Create a petition field comment.
  """
  publicCreatePetitionFieldComment(
    content: String!
    keycode: ID!
    petitionFieldId: GID!
  ): PublicPetitionFieldComment!

  """
  Creates a reply to a text or select field.
  """
  publicCreateSimpleReply(fieldId: GID!, keycode: ID!, value: String!): PublicPetitionFieldReply!

  """
  Lets a recipient delegate access to the petition to another contact in the same organization
  """
  publicDelegateAccessToContact(
    email: String!
    firstName: String!
    keycode: ID!
    lastName: String!
    messageBody: JSON!
  ): PublicPetitionAccess!

  """
  Delete a petition field comment.
  """
  publicDeletePetitionFieldComment(
    keycode: ID!
    petitionFieldCommentId: GID!
    petitionFieldId: GID!
  ): Result!

  """
  Deletes a reply to a petition field.
  """
  publicDeletePetitionReply(keycode: ID!, replyId: GID!): Result!

  """
  Notifies the backend that the upload is complete.
  """
  publicFileUploadReplyComplete(keycode: ID!, replyId: GID!): PublicPetitionFieldReply!

  """
  Generates a download link for a file reply on a public context.
  """
  publicFileUploadReplyDownloadLink(
    keycode: ID!

    """
    If true will use content-disposition inline instead of attachment
    """
    preview: Boolean
    replyId: GID!
  ): FileUploadDownloadLinkResult!

  """
  Marks the specified comments as read.
  """
  publicMarkPetitionFieldCommentsAsRead(
    keycode: ID!
    petitionFieldCommentIds: [GID!]!
  ): [PublicPetitionFieldComment!]!

  """
  Cancel a reminder for a contact.
  """
  publicOptOutReminders(keycode: ID!, other: String!, reason: String!): PublicPetitionAccess!

  """
  Generates a download link for a field attachment on a public context.
  """
  publicPetitionFieldAttachmentDownloadLink(
    attachmentId: GID!
    fieldId: GID!
    keycode: ID!

    """
    If true will use content-disposition inline instead of attachment
    """
    preview: Boolean
  ): FileUploadDownloadLinkResult!
  publicSendVerificationCode(keycode: ID!): VerificationCodeRequest!

  """
  Updates a reply of checkbox field.
  """
  publicUpdateCheckboxReply(
    keycode: ID!
    replyId: GID!
    values: [String!]!
  ): PublicPetitionFieldReply!

  """
  Updates a reply for a dynamic select field.
  """
  publicUpdateDynamicSelectReply(
    keycode: ID!
    replyId: GID!
    value: [[String]!]!
  ): PublicPetitionFieldReply!

  """
  Update a petition field comment.
  """
  publicUpdatePetitionFieldComment(
    content: String!
    keycode: ID!
    petitionFieldCommentId: GID!
    petitionFieldId: GID!
  ): PublicPetitionFieldComment!

  """
  Updates a reply to a text or select field.
  """
  publicUpdateSimpleReply(keycode: ID!, replyId: GID!, value: String!): PublicPetitionFieldReply!

  """
  Reactivates the specified inactive petition accesses.
  """
  reactivateAccesses(accessIds: [GID!]!, petitionId: GID!): [PetitionAccess!]!

  """
  Remove a petition field attachment
  """
  removePetitionFieldAttachment(attachmentId: GID!, fieldId: GID!, petitionId: GID!): Result!

  """
  Removes permissions on given petitions and users
  """
  removePetitionPermission(
    petitionIds: [GID!]!

    """
    Set to true if you want to remove all permissions on the petitions. This will ignore the provided userIds
    """
    removeAll: Boolean
    userGroupIds: [GID!]
    userIds: [GID!]
  ): [Petition!]!

  """
  Removes users from a user group
  """
  removeUsersFromGroup(userGroupId: GID!, userIds: [GID!]!): UserGroup!

  """
  Reopens the petition
  """
  reopenPetition(petitionId: GID!): Petition!

  """
  Removes the Signaturit Branding Ids of selected organization.
  """
  resetSignaturitOrganizationBranding(orgId: Int!): SupportMethodResponse!

  """
  Resets the given user password on AWS Cognito and sends an email with new temporary.
  """
  resetUserPassword(email: String!): SupportMethodResponse!

  """
  Soft-deletes a given auth token, making it permanently unusable.
  """
  revokeUserAuthToken(authTokenIds: [GID!]!): Result!

  """
  Sends the petition and creates the corresponding accesses and messages.
  """
  sendPetition(
    body: JSON!
    contactIds: [GID!]!
    petitionId: GID!
    remindersConfig: RemindersConfigInput
    scheduledAt: DateTime
    subject: String!
  ): SendPetitionResult!

  """
  Sends an email to all contacts of the petition confirming the replies are ok
  """
  sendPetitionClosedNotification(
    attachPdfExport: Boolean!
    emailBody: JSON!
    force: Boolean = false
    pdfExportTitle: String
    petitionId: GID!
  ): Petition!

  """
  Sends a reminder for the specified petition accesses.
  """
  sendReminders(accessIds: [GID!]!, body: JSON, petitionId: GID!): Result!

  """
  Generates a download link for the signed PDF petition.
  """
  signedPetitionDownloadLink(
    """
    If true, downloads the audit trail instead of the signed document
    """
    downloadAuditTrail: Boolean
    petitionSignatureRequestId: GID!

    """
    If true will use content-disposition inline instead of attachment
    """
    preview: Boolean
  ): FileUploadDownloadLinkResult!
  startSignatureRequest(petitionId: GID!): PetitionSignatureRequest!

  """
  Switches automatic reminders for the specified petition accesses.
  """
  switchAutomaticReminders(
    accessIds: [GID!]!
    petitionId: GID!
    remindersConfig: RemindersConfigInput
    start: Boolean!
  ): [PetitionAccess!]!

  """
  Tags a petition
  """
  tagPetition(petitionId: GID!, tagId: GID!): PetitionBase!

  """
  Transfers the ownership of an organization to a given user. Old owner will get ADMIN role
  """
  transferOrganizationOwnership(
    """
    Numeric ID of the organization
    """
    organizationId: Int!

    """
    Numeric ID of the new owner
    """
    userId: Int!
  ): SupportMethodResponse!

  """
  Transfers petition ownership to a given user. The original owner gets a WRITE permission on the petitions.
  """
  transferPetitionOwnership(petitionIds: [GID!]!, userId: GID!): [Petition!]!

  """
  Removes the given tag from the given petition
  """
  untagPetition(petitionId: GID!, tagId: GID!): PetitionBase!

  """
  Updates a contact.
  """
  updateContact(data: UpdateContactInput!, id: GID!): Contact!

  """
  Updates the positions of the petition fields
  """
  updateFieldPositions(fieldIds: [GID!]!, petitionId: GID!): PetitionBase!

  """
  Updates the metadata of a public landing template.
  """
  updateLandingTemplateMetadata(
    """
    for example: #A0FFCE
    """
    backgroundColor: String

    """
    comma-separated list of categories
    """
    categories: String

    """
    short description for the template
    """
    description: String
    image: Upload

    """
    must be URL-friendly
    """
    slug: String

    """
    global ID of the template
    """
    templateId: ID!
  ): SupportMethodResponse!

  """
  Updates the onboarding status for one of the pages.
  """
  updateOnboardingStatus(key: OnboardingKey!, status: OnboardingStatus!): User!

  """
  Updates the logo of an organization
  """
  updateOrganizationLogo(file: Upload!, orgId: GID!): Organization!

  """
  Updates the role of another user in the organization.
  """
  updateOrganizationUser(role: OrganizationRole!, userId: GID!): User!

  """
  Updates a petition.
  """
  updatePetition(data: UpdatePetitionInput!, petitionId: GID!): PetitionBase!

  """
  Updates a petition field.
  """
  updatePetitionField(
    data: UpdatePetitionFieldInput!
    fieldId: GID!
    petitionId: GID!
  ): PetitionBaseAndField!

  """
  Update a petition field comment.
  """
  updatePetitionFieldComment(
    content: String!
    petitionFieldCommentId: GID!
    petitionFieldId: GID!
    petitionId: GID!
  ): PetitionField!

  """
  Marks the specified comments as read or unread.
  """
  updatePetitionFieldCommentsReadStatus(
    isRead: Boolean!
    petitionFieldCommentIds: [GID!]!
    petitionId: GID!
  ): [PetitionFieldComment!]!
    @deprecated(reason: "Use `updatePetitionUserNotificationReadStatus` instead.")

  """
  Updates the status of a petition field reply and sets the petition as closed if all fields are validated.
  """
  updatePetitionFieldRepliesStatus(
    petitionFieldId: GID!
    petitionFieldReplyIds: [GID!]!
    petitionId: GID!
    status: PetitionFieldReplyStatus!
  ): PetitionWithFieldAndReplies!

  """
  Updates the metada of the specified petition field reply
  """
  updatePetitionFieldReplyMetadata(
    metadata: JSONObject!
    petitionId: GID!
    replyId: GID!
  ): PetitionFieldReply!

  """
  Updates the subscription flag on a PetitionPermission
  """
  updatePetitionPermissionSubscription(isSubscribed: Boolean!, petitionId: GID!): Petition!

  """
  Updates the read status of a user's notification.
  Must pass ONLY one of:
    - petitionUserNotificationIds
    - filter
    - petitionIds
    - petitionFieldCommentIds
  """
  updatePetitionUserNotificationReadStatus(
    filter: PetitionUserNotificationFilter
    isRead: Boolean!
    petitionFieldCommentIds: [GID!]
    petitionIds: [GID!]
    petitionUserNotificationIds: [GID!]
  ): [PetitionUserNotification!]!
  updateSignatureRequestMetadata(
    metadata: JSONObject!
    petitionSignatureRequestId: GID!
  ): PetitionSignatureRequest!

  """
  Updates a reply to a text or select field.
  """
  updateSimpleReply(petitionId: GID!, reply: String!, replyId: GID!): PetitionFieldReply!

  """
  Updates the name and color of a given tag
  """
  updateTag(data: UpdateTagInput!, id: GID!): Tag!

  """
  Updates the user with the provided data.
  """
  updateUser(data: UpdateUserInput!, id: GID!): User!

  """
  Updates the name of a given user group
  """
  updateUserGroup(data: UpdateUserGroupInput!, id: GID!): UserGroup!

  """
  Updates user status and, if new status is INACTIVE, transfers their owned petitions to another user in the org.
  """
  updateUserStatus(status: UserStatus!, transferToUserId: GID, userIds: [GID!]!): [User!]!

  """
  Uploads the xlsx file used to parse the options of a dynamic select field, and sets the field options
  """
  uploadDynamicSelectFieldFile(fieldId: GID!, file: Upload!, petitionId: GID!): PetitionField!

  """
  Uploads a user avatar image
  """
  uploadUserAvatar(
    image: Upload!

    """
    Numeric ID of the user
    """
    userId: Int!
  ): SupportMethodResponse!

  """
  Updates the validation of a field and sets the petition as closed if all fields are validated.
  """
  validatePetitionFields(
    fieldIds: [GID!]!
    petitionId: GID!
    validateRepliesWith: PetitionFieldReplyStatus
    value: Boolean!
  ): PetitionAndPartialFields!
  verifyPublicAccess(
    ip: String
    keycode: ID!
    token: ID!
    userAgent: String
  ): PublicAccessVerification!
}

enum OnboardingKey {
  CONTACT_DETAILS
  CONTACT_LIST
  PETITIONS_LIST
  PETITION_ACTIVITY
  PETITION_COMPOSE
  PETITION_REVIEW
}

enum OnboardingStatus {
  FINISHED
  SKIPPED
}

type OrgIntegration {
  """
  The name of the integration.
  """
  name: String!

  """
  The provider used for this integration.
  """
  provider: String!

  """
  The type of the integration.
  """
  type: IntegrationType!
}

"""
An organization in the system.
"""
type Organization implements Timestamps {
  _id: Int! @deprecated(reason: "Temporal solution for support methods, don't use")

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  Whether the organization has an SSO provider configured.
  """
  hasSsoProvider: Boolean!

  """
  The ID of the organization.
  """
  id: GID!

  """
  The unique text identifier of the organization.
  """
  identifier: String!
  integrations(
    """
    Filter by integration type.
    """
    type: IntegrationType
  ): [OrgIntegration!]!

  """
  URL of the organization logo
  """
  logoUrl: String

  """
  The name of the organization.
  """
  name: String!

  """
  The status of the organization.
  """
  status: OrganizationStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!

  """
  The total number of users
  """
  userCount: Int!

  """
  The users in the organization.
  """
  users(
    exclude: [GID!]
    includeInactive: Boolean

    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String

    """
    Sorting to use on the collection
    """
    sortBy: [OrganizationUsers_OrderBy!]
  ): UserPagination!
}

type OrganizationPagination {
  """
  The requested slice of items.
  """
  items: [Organization!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

"""
The roles of a user within an organization.
"""
enum OrganizationRole {
  ADMIN
  NORMAL
  OWNER
}

"""
The status of the organization.
"""
enum OrganizationStatus {
  """
  Used for regular clients
  """
  ACTIVE

  """
  Used on churned clients
  """
  CHURNED

  """
  Used for demoing the product
  """
  DEMO

  """
  Used for development or testing purposes
  """
  DEV
}

"""
Order to use on Organization.users
"""
enum OrganizationUsers_OrderBy {
  createdAt_ASC
  createdAt_DESC
  email_ASC
  email_DESC
  firstName_ASC
  firstName_DESC
  fullName_ASC
  fullName_DESC
  lastActiveAt_ASC
  lastActiveAt_DESC
  lastName_ASC
  lastName_DESC
}

type OwnershipTransferredEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  owner: User
  previousOwner: User
  user: User
}

"""
A petition
"""
type Petition implements PetitionBase {
  """
  The accesses for this petition
  """
  accesses: [PetitionAccess!]!

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The current signature request.
  """
  currentSignatureRequest(token: String): PetitionSignatureRequest

  """
  The deadline of the petition.
  """
  deadline: DateTime

  """
  The body of the petition.
  """
  emailBody: JSON

  """
  The subject of the petition.
  """
  emailSubject: String

  """
  The events for the petition.
  """
  events(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int
  ): PetitionEventPagination!

  """
  The number of fields in the petition.
  """
  fieldCount: Int!

  """
  The definition of the petition fields.
  """
  fields: [PetitionField!]!

  """
  Whether comments are enabled or not.
  """
  hasCommentsEnabled: Boolean!

  """
  The ID of the petition or template.
  """
  id: GID!
  isReadOnly: Boolean!

  """
  Whether the contents card is hidden in the recipient view.
  """
  isRecipientViewContentsHidden: Boolean! @deprecated(reason: "Don't use this")

  """
  The locale of the petition.
  """
  locale: PetitionLocale!

  """
  The effective permission of the logged user. Will return Null if the user doesn't have access to the petition (e.g. on public templates).
  """
  myEffectivePermission: EffectivePetitionUserPermission

  """
  The name of the petition.
  """
  name: String
  organization: Organization!
  owner: User!

  """
  The permissions linked to the petition
  """
  permissions: [PetitionPermission!]!

  """
  The progress of the petition.
  """
  progress: PetitionProgress!

  """
  The reminders configuration for the petition.
  """
  remindersConfig: RemindersConfig

  """
  Date when the petition was first sent
  """
  sentAt: DateTime

  """
  The signature configuration for the petition.
  """
  signatureConfig: SignatureConfig

  """
  The list of signature requests.
  """
  signatureRequests: [PetitionSignatureRequest!]

  """
  Whether to skip the forward security check on the recipient view.
  """
  skipForwardSecurity: Boolean!

  """
  The status of the petition.
  """
  status: PetitionStatus!

  """
  The subscriptions linked to the petition.
  """
  subscriptions: [Subscription!]!

  """
  The tags linked to the petition
  """
  tags: [Tag!]!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
A petition access
"""
type PetitionAccess implements Timestamps {
  """
  The contact of this access.
  """
  contact: Contact

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The user who granted the access.
  """
  granter: User

  """
  The ID of the petition access.
  """
  id: GID!

  """
  When the next reminder will be sent.
  """
  nextReminderAt: DateTime

  """
  The petition for this message access.
  """
  petition: Petition

  """
  Number of reminders sent.
  """
  reminderCount: Int!
  reminders: [PetitionReminder!]!

  """
  Whether automatic reminders are active or not for this petition access
  """
  remindersActive: Boolean!

  """
  The reminder settings of the petition.
  """
  remindersConfig: RemindersConfig

  """
  Number of reminders left.
  """
  remindersLeft: Int!

  """
  Whether contact has opted out from receiving reminders for this petition
  """
  remindersOptOut: Boolean!

  """
  The status of the petition access
  """
  status: PetitionAccessStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type PetitionAccessPagination {
  """
  The requested slice of items.
  """
  items: [PetitionAccess!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

"""
The status of a petition access.
"""
enum PetitionAccessStatus {
  """
  The petition is accessible by the contact.
  """
  ACTIVE

  """
  The petition is not accessible by the contact.
  """
  INACTIVE
}

type PetitionAndField implements PetitionBaseAndField {
  field: PetitionField!
  petition: Petition!
}

"""
The petition and a subset of some of its fields.
"""
type PetitionAndPartialFields {
  fields: [PetitionField!]!
  petition: Petition!
}

interface PetitionBase {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The body of the petition.
  """
  emailBody: JSON

  """
  The subject of the petition.
  """
  emailSubject: String

  """
  The number of fields in the petition.
  """
  fieldCount: Int!

  """
  The definition of the petition fields.
  """
  fields: [PetitionField!]!

  """
  Whether comments are enabled or not.
  """
  hasCommentsEnabled: Boolean!

  """
  The ID of the petition or template.
  """
  id: GID!
  isReadOnly: Boolean!

  """
  Whether the contents card is hidden in the recipient view.
  """
  isRecipientViewContentsHidden: Boolean! @deprecated(reason: "Don't use this")

  """
  The locale of the petition.
  """
  locale: PetitionLocale!

  """
  The effective permission of the logged user. Will return Null if the user doesn't have access to the petition (e.g. on public templates).
  """
  myEffectivePermission: EffectivePetitionUserPermission

  """
  The name of the petition.
  """
  name: String
  organization: Organization!
  owner: User!

  """
  The permissions linked to the petition
  """
  permissions: [PetitionPermission!]!

  """
  Whether to skip the forward security check on the recipient view.
  """
  skipForwardSecurity: Boolean!

  """
  The tags linked to the petition
  """
  tags: [Tag!]!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

interface PetitionBaseAndField {
  field: PetitionField!
  petition: PetitionBase!
}

type PetitionBasePagination {
  """
  The requested slice of items.
  """
  items: [PetitionBase!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

enum PetitionBaseType {
  PETITION
  TEMPLATE
}

type PetitionClonedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  user: User
}

type PetitionClosedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  user: User
}

type PetitionClosedNotifiedEvent implements PetitionEvent {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
  user: User
}

type PetitionCompletedEvent implements PetitionEvent {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
}

type PetitionCompletedUserNotification implements PetitionUserNotification {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
  isRead: Boolean!
  petition: PetitionBase!
}

type PetitionCreatedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  user: User
}

type PetitionDeletedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
}

interface PetitionEvent {
  createdAt: DateTime!
  id: GID!
}

type PetitionEventPagination {
  """
  The requested slice of items.
  """
  items: [PetitionEvent!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

"""
A field within a petition.
"""
type PetitionField {
  """
  A list of files attached to this field.
  """
  attachments: [PetitionFieldAttachment!]!

  """
  The comments for this field.
  """
  comments: [PetitionFieldComment!]!

  """
  The description of the petition field.
  """
  description: String

  """
  The ID of the petition field.
  """
  id: GID!

  """
  Determines if the field can be moved or deleted.
  """
  isFixed: Boolean!

  """
  Determines if the field accepts replies
  """
  isReadOnly: Boolean!

  """
  Determines if this field allows multiple replies.
  """
  multiple: Boolean!

  """
  Determines if this field is optional.
  """
  optional: Boolean!

  """
  The options of the petition field.
  """
  options: JSONObject!
  position: Int!

  """
  The replies to the petition field
  """
  replies: [PetitionFieldReply!]!

  """
  The title of the petition field.
  """
  title: String

  """
  The type of the petition field.
  """
  type: PetitionFieldType!

  """
  Determines if the content of this field has been validated.
  """
  validated: Boolean!

  """
  A JSON object representing the conditions for the field to be visible
  """
  visibility: JSONObject
}

"""
An attachment on a petition field
"""
type PetitionFieldAttachment implements CreatedAt {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!
  file: FileUpload!
  id: GID!
}

"""
A comment on a petition field
"""
type PetitionFieldComment {
  """
  The author of the comment.
  """
  author: UserOrPetitionAccess

  """
  The content of the comment.
  """
  content: String!

  """
  Time when the comment was created.
  """
  createdAt: DateTime!

  """
  The ID of the petition field comment.
  """
  id: GID!

  """
  Whether the comment has been edited after being published.
  """
  isEdited: Boolean!

  """
  Whether the comment is internal (only visible to org users) or public (visible for users and accesses)
  """
  isInternal: Boolean!

  """
  Whether the comment has been read or not.
  """
  isUnread: Boolean!
}

"""
A reply to a petition field
"""
type PetitionFieldReply implements Timestamps {
  """
  The content of the reply.
  """
  content: JSONObject!

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The petition field for this reply.
  """
  field: PetitionField

  """
  The ID of the petition field reply.
  """
  id: GID!

  """
  Metadata for this reply.
  """
  metadata: JSONObject!

  """
  The status of the reply.
  """
  status: PetitionFieldReplyStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
The status of a petition.
"""
enum PetitionFieldReplyStatus {
  """
  The reply has been approved.
  """
  APPROVED

  """
  The reply has not been approved or rejected.
  """
  PENDING

  """
  The reply has been rejected.
  """
  REJECTED
}

"""
Type of a petition field
"""
enum PetitionFieldType {
  """
  A options list.
  """
  CHECKBOX

  """
  A dynamic select field.
  """
  DYNAMIC_SELECT

  """
  A file upload field.
  """
  FILE_UPLOAD

  """
  A heading field.
  """
  HEADING

  """
  A select field.
  """
  SELECT

  """
  A short text field.
  """
  SHORT_TEXT

  """
  A text field.
  """
  TEXT
}

input PetitionFilter {
  locale: PetitionLocale
  sharedWith: PetitionSharedWithFilter
  status: [PetitionStatus!]
  tagIds: [ID!]
  type: PetitionBaseType
}

"""
The locale used for rendering the petition to the contact.
"""
enum PetitionLocale {
  en
  es
}

"""
A petition message
"""
type PetitionMessage implements CreatedAt {
  """
  The access of this petition message.
  """
  access: PetitionAccess!

  """
  Tells when the email bounced.
  """
  bouncedAt: DateTime

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  Tells when the email was delivered.
  """
  deliveredAt: DateTime

  """
  The body of the petition message on HTML format.
  """
  emailBody: String

  """
  The subject of the petition message.
  """
  emailSubject: JSON

  """
  The ID of the petition message.
  """
  id: GID!

  """
  Tells when the email was opened for the first time.
  """
  openedAt: DateTime

  """
  Time at which the message will be sent.
  """
  scheduledAt: DateTime

  """
  The sender of this petition message.
  """
  sender: User!

  """
  If already sent, the date at which the email was sent.
  """
  sentAt: DateTime

  """
  The status of the petition message
  """
  status: PetitionMessageStatus!
}

"""
The status of a petition message.
"""
enum PetitionMessageStatus {
  """
  The message was scheduled but has been cancelled.
  """
  CANCELLED

  """
  The message has been processed.
  """
  PROCESSED

  """
  The message is being processed.
  """
  PROCESSING

  """
  The message has been scheduled to be sent at a specific time.
  """
  SCHEDULED
}

interface PetitionPermission implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  wether user is subscribed or not to emails and alerts of the petition
  """
  isSubscribed: Boolean!

  """
  The type of the permission.
  """
  permissionType: PetitionPermissionType!

  """
  The petition linked to the permission.
  """
  petition: Petition!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
The type of permission for a petition user.
"""
enum PetitionPermissionType {
  OWNER
  READ
  WRITE
}

"""
The READ and WRITE permissions for a petition user.
"""
enum PetitionPermissionTypeRW {
  READ
  WRITE
}

"""
The progress of a petition.
"""
type PetitionProgress {
  """
  Number of optional fields not replied or validated
  """
  optional: Int!

  """
  Number of fields with a reply and not validated
  """
  replied: Int!

  """
  Total number of fields in the petition
  """
  total: Int!

  """
  Number of fields validated
  """
  validated: Int!
}

type PetitionReminder implements CreatedAt {
  """
  The access of this petition message.
  """
  access: PetitionAccess!

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The body of the message in HTML format.
  """
  emailBody: String
  id: GID!

  """
  The sender of this petition message.
  """
  sender: User

  """
  The type of the reminder.
  """
  type: PetitionReminderType!
}

"""
The type of a petition reminder.
"""
enum PetitionReminderType {
  """
  The reminder has been sent by the system according to the reminders configuration.
  """
  AUTOMATIC

  """
  The reminder has been sent manually by a user.
  """
  MANUAL
}

type PetitionReopenedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  user: User
}

type PetitionSharedUserNotification implements PetitionUserNotification {
  createdAt: DateTime!
  id: GID!
  isRead: Boolean!
  owner: User!
  permissionType: PetitionPermissionTypeRW!
  petition: PetitionBase!
  sharedWith: UserOrUserGroup!
}

input PetitionSharedWithFilter {
  filters: [PetitionSharedWithFilterLine!]!
  operator: FilterSharedWithLogicalOperator!
}

input PetitionSharedWithFilterLine {
  operator: FilterSharedWithOperator!
  value: ID!
}

enum PetitionSignatureCancelReason {
  CANCELLED_BY_USER
  DECLINED_BY_SIGNER
  REQUEST_ERROR
}

type PetitionSignatureRequest implements Timestamps {
  auditTrailFilename: String

  """
  Time when the resource was created.
  """
  createdAt: DateTime!
  id: GID!

  """
  Metadata for this signature request.
  """
  metadata: JSONObject!
  petition: Petition!

  """
  The signature configuration for the request.
  """
  signatureConfig: SignatureConfig!
  signedDocumentFilename: String

  """
  The status of the petition signature.
  """
  status: PetitionSignatureRequestStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

enum PetitionSignatureRequestStatus {
  CANCELLED
  COMPLETED
  ENQUEUED
  PROCESSING
}

"""
The status of a petition.
"""
enum PetitionStatus {
  """
  The petition has been closed by a user.
  """
  CLOSED

  """
  The petition has been completed.
  """
  COMPLETED

  """
  The petition has not been sent yet.
  """
  DRAFT

  """
  The petition has been sent and is awaiting completion.
  """
  PENDING
}

"""
A petition template
"""
type PetitionTemplate implements PetitionBase {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  Description of the template.
  """
  description: JSON

  """
  HTML excerpt of the template description.
  """
  descriptionExcerpt: String

  """
  HTML description of the template.
  """
  descriptionHtml: String

  """
  The body of the petition.
  """
  emailBody: JSON

  """
  The subject of the petition.
  """
  emailSubject: String

  """
  The number of fields in the petition.
  """
  fieldCount: Int!

  """
  The definition of the petition fields.
  """
  fields: [PetitionField!]!

  """
  Whether comments are enabled or not.
  """
  hasCommentsEnabled: Boolean!

  """
  The ID of the petition or template.
  """
  id: GID!

  """
  Whether the template is publicly available or not
  """
  isPublic: Boolean!
  isReadOnly: Boolean!

  """
  Whether the contents card is hidden in the recipient view.
  """
  isRecipientViewContentsHidden: Boolean! @deprecated(reason: "Don't use this")

  """
  The locale of the petition.
  """
  locale: PetitionLocale!

  """
  The effective permission of the logged user. Will return Null if the user doesn't have access to the petition (e.g. on public templates).
  """
  myEffectivePermission: EffectivePetitionUserPermission

  """
  The name of the petition.
  """
  name: String
  organization: Organization!
  owner: User!

  """
  The permissions linked to the petition
  """
  permissions: [PetitionPermission!]!

  """
  Whether to skip the forward security check on the recipient view.
  """
  skipForwardSecurity: Boolean!

  """
  The tags linked to the petition
  """
  tags: [Tag!]!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type PetitionTemplateAndField implements PetitionBaseAndField {
  field: PetitionField!
  petition: PetitionTemplate!
}

type PetitionTemplatePagination {
  """
  The requested slice of items.
  """
  items: [PetitionTemplate!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

"""
The permission for a petition and user group
"""
type PetitionUserGroupPermission implements PetitionPermission & Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The group linked to the permission
  """
  group: UserGroup!

  """
  wether user is subscribed or not to emails and alerts of the petition
  """
  isSubscribed: Boolean!

  """
  The type of the permission.
  """
  permissionType: PetitionPermissionType!

  """
  The petition linked to the permission.
  """
  petition: Petition!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

interface PetitionUserNotification {
  createdAt: DateTime!
  id: GID!
  isRead: Boolean!
  petition: PetitionBase!
}

"""
The types of notifications available for filtering
"""
enum PetitionUserNotificationFilter {
  ALL
  COMMENTS
  COMPLETED
  OTHER
  SHARED
  UNREAD
}

"""
The permission for a petition and user
"""
type PetitionUserPermission implements PetitionPermission & Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  wether user is subscribed or not to emails and alerts of the petition
  """
  isSubscribed: Boolean!

  """
  The type of the permission.
  """
  permissionType: PetitionPermissionType!

  """
  The petition linked to the permission.
  """
  petition: Petition!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!

  """
  The user linked to the permission
  """
  user: User!
}

type PetitionWithFieldAndReplies {
  field: PetitionField!
  petition: Petition!
  replies: [PetitionFieldReply!]!
}

type PublicAccessVerification {
  cookieName: String
  cookieValue: String
  email: String
  isAllowed: Boolean!
  orgLogoUrl: String
  orgName: String
}

"""
A public view of a contact
"""
type PublicContact {
  """
  The email of the user.
  """
  email: String!

  """
  The first name of the user.
  """
  firstName: String

  """
  The full name of the user.
  """
  fullName: String

  """
  The ID of the contact.
  """
  id: GID!

  """
  The last name of the user.
  """
  lastName: String
}

"""
A public view of an organization
"""
type PublicOrganization {
  """
  The ID of the organization.
  """
  id: GID!

  """
  The identifier of the organization.
  """
  identifier: String!

  """
  The logo of the organization.
  """
  logoUrl: String

  """
  The name of the organization.
  """
  name: String!
}

"""
A public view of the petition
"""
type PublicPetition implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The deadline of the petition.
  """
  deadline: DateTime

  """
  The field definition of the petition.
  """
  fields: [PublicPetitionField!]!

  """
  Whether comments are enabled or not.
  """
  hasCommentsEnabled: Boolean!

  """
  The ID of the petition.
  """
  id: GID!

  """
  Whether the contents card is hidden in the recipient view.
  """
  isRecipientViewContentsHidden: Boolean! @deprecated(reason: "Don't use this")

  """
  The locale of the petition.
  """
  locale: PetitionLocale!

  """
  The recipients of the petition
  """
  recipients: [PublicContact!]!

  """
  The signature config of the petition
  """
  signature: PublicSignatureConfig
  signatureStatus: PublicSignatureStatus

  """
  The status of the petition.
  """
  status: PetitionStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
A public view of a petition access
"""
type PublicPetitionAccess {
  contact: PublicContact
  granter: PublicUser
  message: PublicPetitionMessage
  petition: PublicPetition
}

"""
A field within a petition.
"""
type PublicPetitionField {
  """
  A list of files attached to this field.
  """
  attachments: [PetitionFieldAttachment!]!
  commentCount: Int!

  """
  The comments for this field.
  """
  comments: [PublicPetitionFieldComment!]!

  """
  The description of the petition field.
  """
  description: String

  """
  The ID of the petition field.
  """
  id: GID!

  """
  Determines if the field accepts replies
  """
  isReadOnly: Boolean!

  """
  Determines if this field allows multiple replies.
  """
  multiple: Boolean!

  """
  Determines if this field is optional.
  """
  optional: Boolean!

  """
  The options of the petition field.
  """
  options: JSONObject!

  """
  The replies to the petition field
  """
  replies: [PublicPetitionFieldReply!]!

  """
  The title of the petition field.
  """
  title: String

  """
  The type of the petition field.
  """
  type: PetitionFieldType!
  unreadCommentCount: Int!

  """
  Determines if the content of this field has been validated.
  """
  validated: Boolean!

  """
  A JSON object representing the conditions for the field to be visible
  """
  visibility: JSONObject
}

"""
A comment on a petition field
"""
type PublicPetitionFieldComment {
  """
  The author of the comment.
  """
  author: PublicUserOrContact

  """
  The content of the comment.
  """
  content: String!

  """
  Time when the comment was created.
  """
  createdAt: DateTime!

  """
  The ID of the petition field comment.
  """
  id: GID!

  """
  Whether the comment has been read or not.
  """
  isUnread: Boolean!
}

"""
A reply to a petition field
"""
type PublicPetitionFieldReply implements Timestamps {
  """
  The public content of the reply
  """
  content: JSONObject!

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The ID of the petition field reply.
  """
  id: GID!

  """
  The status of the petition field reply.
  """
  status: PetitionFieldReplyStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
A public message in a petition
"""
type PublicPetitionMessage {
  """
  The ID of the message.
  """
  id: GID!

  """
  Subject of a email.
  """
  subject: String
}

input PublicPetitionSignerData {
  email: String!
  firstName: String!
  lastName: String!
  message: String
}

"""
The public signature settings of a petition
"""
type PublicSignatureConfig {
  """
  If true, lets the user review the replies before starting the signature process
  """
  review: Boolean!

  """
  The contacts that need to sign the generated document.
  """
  signers: [PublicContact]!
}

enum PublicSignatureStatus {
  COMPLETED
  STARTED
}

"""
A public view of a user
"""
type PublicUser {
  """
  The email of the user.
  """
  email: String!

  """
  The first name of the user.
  """
  firstName: String

  """
  The full name of the user.
  """
  fullName: String

  """
  The ID of the user.
  """
  id: GID!

  """
  The last name of the user.
  """
  lastName: String

  """
  The organization of the user.
  """
  organization: PublicOrganization!
}

union PublicUserOrContact = PublicContact | PublicUser

type Query {
  access(keycode: ID!): PublicPetitionAccess
  contact(id: GID!): Contact

  """
  The contacts of the user
  """
  contacts(
    exclude: [GID!]

    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String

    """
    Sorting to use on the collection
    """
    sortBy: [QueryContacts_OrderBy!]
  ): ContactPagination!

  """
  Matches the emails passed as argument with a Contact in the database. Returns a list of nullable Contacts
  """
  contactsByEmail(emails: [String!]!): [Contact]!

  """
  Checks if the provided email is available to be registered as a user on Parallel
  """
  emailIsAvailable(email: String!): Boolean!

  """
  Get users or groups from IDs
  """
  getUsersOrGroups(ids: [ID!]!): [UserOrUserGroup!]!

  """
  Decodes the given Global ID into an entity in the database.
  """
  globalIdDecode(
    """
    Global ID to decode
    """
    id: ID!
  ): SupportMethodResponse!

  """
  Encodes the given ID into a Global ID.
  """
  globalIdEncode(
    """
    ID to encode
    """
    id: Int!
    type: EntityType!
  ): SupportMethodResponse!
  landingTemplateBySlug(slug: String!): LandingTemplate
  landingTemplates(
    categories: [String!]

    """
    Number of elements to take from the list.
    """
    limit: Int
    locale: PetitionLocale!

    """
    Number of elements to skip from the list.
    """
    offset: Int
  ): LandingTemplatePagination!
  landingTemplatesSamples: [LandingTemplateSample!]!
  me: User!
  organization(id: GID!): Organization

  """
  The organizations registered in Parallel.
  """
  organizations(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String

    """
    Sorting to use on the collection
    """
    sortBy: [QueryOrganizations_OrderBy!]

    """
    Optional status to filter for.
    """
    status: OrganizationStatus
  ): OrganizationPagination!
  petition(id: GID!): PetitionBase
  petitionAuthToken(token: String!): Petition

  """
  The comments for this field.
  """
  petitionFieldComments(keycode: ID!, petitionFieldId: GID!): [PublicPetitionFieldComment!]!

  """
  The petitions of the user
  """
  petitions(
    filters: PetitionFilter

    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String

    """
    Sorting to use on the collection
    """
    sortBy: [QueryPetitions_OrderBy!]
  ): PetitionBasePagination!
  petitionsById(ids: [GID!]!): [PetitionBase]!
  publicOrgLogoUrl(id: GID!): String

  """
  The publicly available templates
  """
  publicTemplates(
    """
    Number of elements to take from the list.
    """
    limit: Int
    locale: PetitionLocale

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String
  ): PetitionTemplatePagination!

  """
  Search users and user groups
  """
  searchUsers(
    excludeUserGroups: [GID!]
    excludeUsers: [GID!]
    includeGroups: Boolean
    includeInactive: Boolean
    search: String!
  ): [UserOrUserGroup!]!

  """
  Paginated list of tags in the organization
  """
  tags(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String
  ): TagPagination!
  userGroup(id: GID!): UserGroup

  """
  Paginated list of user groups in the organization
  """
  userGroups(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String

    """
    Sorting to use on the collection
    """
    sortBy: [QueryUserGroups_OrderBy!]
  ): UserGroupPagination!
}

"""
Order to use on Query.contacts
"""
enum QueryContacts_OrderBy {
  createdAt_ASC
  createdAt_DESC
  email_ASC
  email_DESC
  firstName_ASC
  firstName_DESC
  fullName_ASC
  fullName_DESC
  lastName_ASC
  lastName_DESC
}

"""
Order to use on Query.organizations
"""
enum QueryOrganizations_OrderBy {
  createdAt_ASC
  createdAt_DESC
  name_ASC
  name_DESC
}

"""
Order to use on Query.petitions
"""
enum QueryPetitions_OrderBy {
  createdAt_ASC
  createdAt_DESC
  lastUsedAt_ASC
  lastUsedAt_DESC
  name_ASC
  name_DESC
  sentAt_ASC
  sentAt_DESC
}

"""
Order to use on Query.userGroups
"""
enum QueryUserGroups_OrderBy {
  createdAt_ASC
  createdAt_DESC
  name_ASC
  name_DESC
}

type ReminderEmailBouncedUserNotification implements PetitionUserNotification {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
  isRead: Boolean!
  petition: PetitionBase!
}

type ReminderSentEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  reminder: PetitionReminder!
}

"""
The reminder settings of a petition
"""
type RemindersConfig {
  """
  The amount of days between reminders.
  """
  offset: Int!

  """
  The time at which the reminder should be sent.
  """
  time: String!

  """
  The timezone the time is referring to.
  """
  timezone: String!

  """
  Whether to send reminders only from monday to friday.
  """
  weekdaysOnly: Boolean!
}

"""
The reminders settings for the petition
"""
input RemindersConfigInput {
  """
  The amount of days between reminders.
  """
  offset: Int!

  """
  The time at which the reminder should be sent.
  """
  time: String!

  """
  The timezone the time is referring to.
  """
  timezone: String!

  """
  Whether to send reminders only from monday to friday.
  """
  weekdaysOnly: Boolean!
}

type RemindersOptOutEvent implements PetitionEvent {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
  other: String!
  reason: String!
}

type RemindersOptOutNotification implements PetitionUserNotification {
  access: PetitionAccess!
  createdAt: DateTime!
  id: GID!
  isRead: Boolean!
  other: String!
  petition: PetitionBase!
  reason: String!
}

type ReplyCreatedEvent implements PetitionEvent {
  createdAt: DateTime!
  createdBy: UserOrPetitionAccess
  field: PetitionField
  id: GID!
  reply: PetitionFieldReply
}

type ReplyDeletedEvent implements PetitionEvent {
  createdAt: DateTime!
  deletedBy: UserOrPetitionAccess
  field: PetitionField
  id: GID!
}

type ReplyUpdatedEvent implements PetitionEvent {
  createdAt: DateTime!
  field: PetitionField
  id: GID!
  reply: PetitionFieldReply
  updatedBy: UserOrPetitionAccess
}

"""
Represents the result of an operation.
"""
enum Result {
  FAILURE
  SUCCESS
}

type SendPetitionResult {
  accesses: [PetitionAccess!]
  petition: Petition
  result: Result!
}

type SignatureCancelledEvent implements PetitionEvent {
  cancelType: PetitionSignatureCancelReason!
  cancellerReason: String
  contact: Contact
  createdAt: DateTime!
  id: GID!
  user: User
}

type SignatureCancelledUserNotification implements PetitionUserNotification {
  createdAt: DateTime!
  id: GID!
  isRead: Boolean!
  petition: PetitionBase!
}

type SignatureCompletedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
}

type SignatureCompletedUserNotification implements PetitionUserNotification {
  createdAt: DateTime!
  id: GID!
  isRead: Boolean!
  petition: PetitionBase!
}

"""
The signature settings of a petition
"""
type SignatureConfig {
  """
  The contacts that need to sign the generated document.
  """
  contacts: [Contact]!

  """
  The selected provider for the signature.
  """
  provider: String!

  """
  If true, lets the user review the replies before starting the signature process
  """
  review: Boolean!

  """
  The timezone used to generate the document.
  """
  timezone: String!

  """
  Title of the signature document
  """
  title: String!
}

"""
The signature settings for the petition
"""
input SignatureConfigInput {
  """
  The contacts that need to sign the generated document.
  """
  contactIds: [ID!]!

  """
  The selected provider for the signature.
  """
  provider: String!

  """
  If true, lets the user review the replies before starting the signature process
  """
  review: Boolean!

  """
  The timezone used to generate the document.
  """
  timezone: String!

  """
  The title of the signing document
  """
  title: String!
}

type SignatureStartedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
}

type Subscription implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!
  endpoint: String!
  id: GID!
  petition: Petition!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
Return type for all support methods
"""
type SupportMethodResponse {
  message: String
  result: Result!
}

type Tag {
  """
  The color of the tag in hex format (example: #FFFFFF)
  """
  color: String!

  """
  Time when the resource was created.
  """
  createdAt: DateTime!
  id: GID!
  name: String!
}

type TagPagination {
  """
  The requested slice of items.
  """
  items: [Tag!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

type TemplateUsedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
}

interface Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

input UpdateContactInput {
  firstName: String
  lastName: String
}

input UpdatePetitionFieldInput {
  description: String
  multiple: Boolean
  optional: Boolean
  options: JSONObject
  title: String
  visibility: JSONObject
}

input UpdatePetitionInput {
  deadline: DateTime
  description: JSON
  emailBody: JSON
  emailSubject: String
  hasCommentsEnabled: Boolean
  isReadOnly: Boolean
  isRecipientViewContentsHidden: Boolean
  locale: PetitionLocale
  name: String
  remindersConfig: RemindersConfigInput
  signatureConfig: SignatureConfigInput
  skipForwardSecurity: Boolean
}

input UpdateTagInput {
  color: String
  name: String
}

input UpdateUserGroupInput {
  name: String
}

input UpdateUserInput {
  firstName: String
  lastName: String
  role: OrganizationRole
}

"""
The `Upload` scalar type represents a file upload.
"""
scalar Upload

"""
A user in the system.
"""
type User implements Timestamps {
  """
  Lists every auth token of the user
  """
  authenticationTokens(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String

    """
    Sorting to use on the collection
    """
    sortBy: [UserAuthenticationTokens_OrderBy!]
  ): UserAuthenticationTokenPagination!

  """
  URL to the user avatar
  """
  avatarUrl: String

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The email of the user.
  """
  email: String!

  """
  The first name of the user.
  """
  firstName: String

  """
  The full name of the user.
  """
  fullName: String
  hasFeatureFlag(featureFlag: FeatureFlag!): Boolean!

  """
  The ID of the user.
  """
  id: GID!
  isSsoUser: Boolean!
  isSuperAdmin: Boolean!
  lastActiveAt: DateTime

  """
  The last name of the user.
  """
  lastName: String

  """
  Read and unread user notifications about events on their petitions
  """
  notifications(
    """
    Return notifications after the specified date.
    """
    before: DateTime
    filter: PetitionUserNotificationFilter

    """
    Number of elements to take from the list.
    """
    limit: Int
  ): UserNotifications_Pagination!

  """
  The onboarding status for the different views of the app.
  """
  onboardingStatus: JSONObject!
  organization: Organization!
  role: OrganizationRole!
  status: UserStatus!
  unreadNotificationIds: [ID!]!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type UserAuthenticationToken implements CreatedAt {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!
  id: GID!
  lastUsedAt: DateTime
  tokenName: String!
}

type UserAuthenticationTokenPagination {
  """
  The requested slice of items.
  """
  items: [UserAuthenticationToken!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

"""
Order to use on User.authenticationTokens
"""
enum UserAuthenticationTokens_OrderBy {
  createdAt_ASC
  createdAt_DESC
  lastUsedAt_ASC
  lastUsedAt_DESC
  tokenName_ASC
  tokenName_DESC
}

type UserGroup implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!
  id: GID!
  members: [UserGroupMember!]!
  name: String!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type UserGroupMember {
  """
  The time the user was added to the user group.
  """
  addedAt: DateTime!
  id: GID!
  user: User!
}

type UserGroupPagination {
  """
  The requested slice of items.
  """
  items: [UserGroup!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

type UserNotifications_Pagination {
  """
  Whether this resource has more items.
  """
  hasMore: Boolean!

  """
  The requested slice of items.
  """
  items: [PetitionUserNotification!]!
}

union UserOrContact = Contact | User

union UserOrPetitionAccess = PetitionAccess | User

union UserOrUserGroup = User | UserGroup

type UserPagination {
  """
  The requested slice of items.
  """
  items: [User!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

type UserPermissionAddedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  permissionType: PetitionPermissionType!
  permissionUser: User
  user: User
}

type UserPermissionEditedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  permissionType: PetitionPermissionType!
  permissionUser: User
  user: User
}

type UserPermissionRemovedEvent implements PetitionEvent {
  createdAt: DateTime!
  id: GID!
  permissionUser: User
  user: User
}

enum UserStatus {
  ACTIVE
  INACTIVE
}

type VerificationCodeCheck {
  remainingAttempts: Int
  result: Result!
}

type VerificationCodeRequest {
  expiresAt: DateTime!
  remainingAttempts: Int!
  token: ID!
}
