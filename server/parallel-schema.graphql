### This file was autogenerated by GraphQL Nexus
### Do not make changes to this file directly

enum ChangePasswordResult {
  INCORRECT_PASSWORD
  INVALID_NEW_PASSWORD
  SUCCESS
}

"""
A contact in the system.
"""
type Contact implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The email of the contact.
  """
  email: String!

  """
  The first name of the contact.
  """
  firstName: String

  """
  The full name of the contact.
  """
  fullName: String

  """
  The ID of the contact.
  """
  id: ID!

  """
  The last name of the contact.
  """
  lastName: String

  """
  The sendouts for this contact
  """
  sendouts(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int
  ): PetitionSendoutPagination!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type ContactPagination {
  """
  The requested slice of items.
  """
  items: [Contact!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

input CreateContactInput {
  email: String!
  firstName: String
  lastName: String
}

type CreateFileUploadReply {
  """
  Endpoint where to upload the file.
  """
  endpoint: String!
  reply: PublicPetitionFieldReply!
}

input CreateFileUploadReplyInput {
  contentType: String!
  filename: String!
  size: Int!
}

input CreateTextReplyInput {
  text: String!
}

"""
A date-time string at UTC, such as 2007-12-03T10:15:30Z, compliant with the `date-time` format outlined in section 5.6 of the RFC 3339 profile of the ISO 8601 standard for representation of dates and times using the Gregorian calendar.
"""
scalar DateTime

type FileUploadReplyDownloadLinkResult {
  result: Result!
  url: String
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

"""
The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSONObject

type Mutation {
  """
  Changes the password for the current logged in user.
  """
  changePassword(newPassword: String!, password: String!): ChangePasswordResult!

  """
  Clone petition.
  """
  clonePetition(name: String, petitionId: ID!): Petition!

  """
  Create contact.
  """
  createContact(data: CreateContactInput!): Contact!

  """
  Create petition.
  """
  createPetition(locale: PetitionLocale!, name: String!): Petition!

  """
  Creates a petition field
  """
  createPetitionField(
    petitionId: ID!
    type: PetitionFieldType!
  ): PetitionAndField!

  """
  Delete contacts.
  """
  deleteContacts(ids: [ID!]!): Result!

  """
  Delete petitions fields.
  """
  deletePetitionField(fieldId: ID!, petitionId: ID!): Petition!

  """
  Delete petitions.
  """
  deletePetitions(ids: [ID!]!): Result!

  """
  Generates a download link for a file reply.
  """
  fileUploadReplyDownloadLink(
    petitionId: ID!
    replyId: ID!
  ): FileUploadReplyDownloadLinkResult!

  """
  Marks a filled petition as ready for review.
  """
  publicCompletePetition(keycode: ID!): PublicPetition!

  """
  Creates a reply to a file upload field.
  """
  publicCreateFileUploadReply(
    data: CreateFileUploadReplyInput!
    fieldId: ID!
    keycode: ID!
  ): CreateFileUploadReply!

  """
  Creates a reply to a text field.
  """
  publicCreateTextReply(
    data: CreateTextReplyInput!
    fieldId: ID!
    keycode: ID!
  ): PublicPetitionFieldReply!

  """
  Deletes a reply to a petition field.
  """
  publicDeletePetitionReply(keycode: ID!, replyId: ID!): Result!

  """
  Notifies the backend that the upload is complete.
  """
  publicFileUploadReplyComplete(
    keycode: ID!
    replyId: ID!
  ): PublicPetitionFieldReply!

  """
  Sends the petition and creates the corresponding sendouts.
  """
  sendPetition(
    petitionId: ID!
    recipients: [Recipient!]!
    scheduledAt: DateTime
  ): SendPetitionResult!

  """
  Sends a reminder for the corresponding sendouts.
  """
  sendReminders(petitionId: ID!, sendoutIds: [ID!]!): SendReminderResult!

  """
  Updates a contact.
  """
  updateContact(data: UpdateContactInput!, id: ID!): Contact!

  """
  Updates the positions of the petition fields
  """
  updateFieldPositions(fieldIds: [ID!]!, petitionId: ID!): Petition!

  """
  Updates a petition.
  """
  updatePetition(data: UpdatePetitionInput!, petitionId: ID!): Petition!

  """
  Updates a petition field.
  """
  updatePetitionField(
    data: UpdatePetitionFieldInput!
    fieldId: ID!
    petitionId: ID!
  ): PetitionAndField!

  """
  Updates the user with the provided data.
  """
  updateUser(data: UpdateUserInput!, id: ID!): User!

  """
  Updates the validation of a petition field.
  """
  validatePetitionFields(
    fieldIds: [ID!]!
    petitionId: ID!
    value: Boolean!
  ): PetitionAndFields!
}

"""
An organization in the system.
"""
type Organization implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The ID of the organization.
  """
  id: ID!

  """
  The unique text identifier of the organization.
  """
  identifier: String!

  """
  The name of the organization.
  """
  name: String!

  """
  The status of the organization.
  """
  status: OrganizationStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!

  """
  The users in the organization.
  """
  users(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int
  ): UserPagination!
}

"""
The roles of a user within an organization.
"""
enum OrganizationRole {
  ADMIN
  NORMAL
}

"""
The status of the organization.
"""
enum OrganizationStatus {
  """
  Used for regular clients
  """
  ACTIVE

  """
  Used on churned clients
  """
  CHURNED

  """
  Used for demoing the product
  """
  DEMO

  """
  Used for development or testing purposes
  """
  DEV
}

"""
An petition in the system.
"""
type Petition implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The custom ref of the petition.
  """
  customRef: String

  """
  The deadline of the petition.
  """
  deadline: DateTime

  """
  The body of the petition.
  """
  emailBody: JSON

  """
  The subject of the petition.
  """
  emailSubject: String

  """
  The number of fields in the petition.
  """
  fieldCount: Int!

  """
  The field definition of the petition.
  """
  fields: [PetitionField!]!

  """
  The ID of the petition.
  """
  id: ID!

  """
  The locale of the petition.
  """
  locale: PetitionLocale!

  """
  The name of the petition.
  """
  name: String

  """
  The progress of the petition.
  """
  progress: PetitionProgress!

  """
  The recipients for this petition
  """
  recipients: [Contact]!

  """
  The reminder settings of the petition.
  """
  reminderSettings: ReminderSettings

  """
  The sendouts for this petition
  """
  sendouts: [PetitionSendout!]!

  """
  The status of the petition.
  """
  status: PetitionStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type PetitionAndField {
  field: PetitionField!
  petition: Petition!
}

type PetitionAndFields {
  fields: [PetitionField!]!
  petition: Petition!
}

"""
A field within a petition.
"""
type PetitionField {
  """
  The description of the petition field.
  """
  description: String

  """
  The ID of the petition field.
  """
  id: ID!

  """
  Determines if this field allows multiple replies.
  """
  multiple: Boolean!

  """
  Determines if this field is optional.
  """
  optional: Boolean!

  """
  The options of the petition.
  """
  options: JSONObject

  """
  The replies to the petition field
  """
  replies: [PetitionFieldReply!]!

  """
  The title of the petition field.
  """
  title: String

  """
  The type of the petition field.
  """
  type: PetitionFieldType!

  """
  Determines if the content of this field has been validated.
  """
  validated: Boolean!
}

"""
A reply to a petition field
"""
type PetitionFieldReply implements Timestamps {
  """
  The content of the reply
  """
  content: JSONObject!

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The ID of the petition field reply.
  """
  id: ID!

  """
  The sendout from where this reply was made.
  """
  sendout: PetitionSendout

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
Type of a petition field
"""
enum PetitionFieldType {
  """
  A file upload field.
  """
  FILE_UPLOAD

  """
  A text field.
  """
  TEXT
}

"""
The locale used for rendering the petition to the contact.
"""
enum PetitionLocale {
  en
  es
}

type PetitionPagination {
  """
  The requested slice of items.
  """
  items: [Petition!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

"""
The progress of a petition.
"""
type PetitionProgress {
  """
  Number of optional fields not replied or validated
  """
  optional: Int!

  """
  Number of fields with a reply and not validated
  """
  replied: Int!

  """
  Total number of fields in the petition
  """
  total: Int!

  """
  Number of fields validated
  """
  validated: Int!
}

"""
A sendout of a petition
"""
type PetitionSendout implements Timestamps {
  """
  Tells when the email bounced.
  """
  bouncedAt: DateTime

  """
  The receiver of the petition through this sendout.
  """
  contact: Contact

  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  Tells when the email was delivered.
  """
  deliveredAt: DateTime

  """
  The body of the petition.
  """
  emailBody: JSON

  """
  The subject of the petition.
  """
  emailSubject: String

  """
  The ID of the petition field access.
  """
  id: ID!

  """
  When the next reminder will be sent.
  """
  nextReminderAt: DateTime

  """
  Tells when the email was opened for the first time.
  """
  openedAt: DateTime

  """
  The petition for this sendout.
  """
  petition: Petition

  """
  The reminder settings of the petition.
  """
  reminderSettings: ReminderSettings

  """
  Time at which the sendout is scheduled.
  """
  scheduledAt: DateTime

  """
  If already sent, the date at which the email was delivered.
  """
  sentAt: DateTime

  """
  The status of the sendout
  """
  status: PetitionSendoutStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type PetitionSendoutPagination {
  """
  The requested slice of items.
  """
  items: [PetitionSendout!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}

"""
The status of a sendout.
"""
enum PetitionSendoutStatus {
  """
  The sendout is active and accessible.
  """
  ACTIVE

  """
  The scheduled sendout was cancelled.
  """
  CANCELLED

  """
  The sendout is not active.
  """
  INACTIVE

  """
  The sendout is being processed.
  """
  PROCESSING

  """
  The sendout has been scheduled.
  """
  SCHEDULED
}

"""
The status of a petition.
"""
enum PetitionStatus {
  """
  The petition has been completed.
  """
  COMPLETED

  """
  The petition has not been sent yet.
  """
  DRAFT

  """
  The petition has been sent and is awaiting completion.
  """
  PENDING
}

"""
A public view of the petition
"""
type PublicPetition implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The deadline of the petition.
  """
  deadline: DateTime

  """
  The body of the petition.
  """
  emailBody: JSON

  """
  The subject of the petition.
  """
  emailSubject: String

  """
  The field definition of the petition.
  """
  fields: [PublicPetitionField!]!

  """
  The ID of the petition.
  """
  id: ID!

  """
  The locale of the petition.
  """
  locale: PetitionLocale!

  """
  The status of the petition.
  """
  status: PetitionStatus!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
A field within a petition.
"""
type PublicPetitionField {
  """
  The description of the petition field.
  """
  description: String

  """
  The ID of the petition field.
  """
  id: ID!

  """
  Determines if this field allows multiple replies.
  """
  multiple: Boolean!

  """
  Determines if this field is optional.
  """
  optional: Boolean!

  """
  The options of the petition.
  """
  options: JSONObject

  """
  The replies to the petition field
  """
  replies: [PublicPetitionFieldReply!]!

  """
  The title of the petition field.
  """
  title: String

  """
  The type of the petition field.
  """
  type: PetitionFieldType!

  """
  Determines if the content of this field has been validated.
  """
  validated: Boolean!
}

"""
A reply to a petition field
"""
type PublicPetitionFieldReply implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The ID of the petition field reply.
  """
  id: ID!

  """
  The public content of the reply
  """
  publicContent: JSONObject!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

"""
A public view of a petition sendout
"""
type PublicPetitionSendout {
  petition: PublicPetition
  sender: PublicUser
}

"""
A public view of a user
"""
type PublicUser {
  """
  The first name of the user.
  """
  firstName: String

  """
  The full name of the user.
  """
  fullName: String

  """
  The ID of the user.
  """
  id: ID!

  """
  The last name of the user.
  """
  lastName: String
}

type Query {
  contact(id: ID!): Contact

  """
  The contacts of the user
  """
  contacts(
    exclude: [ID!]

    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String
  ): ContactPagination!
  me: User!
  organization(id: ID!): Organization
  petition(id: ID!): Petition

  """
  The petitions of the user
  """
  petitions(
    """
    Number of elements to take from the list.
    """
    limit: Int

    """
    Number of elements to skip from the list.
    """
    offset: Int

    """
    Optional text to search in the collection.
    """
    search: String
    status: PetitionStatus
  ): PetitionPagination!
  sendout(keycode: ID!): PublicPetitionSendout
}

input Recipient {
  email: ID
  id: ID
}

"""
The reminder settings of a petition
"""
type ReminderSettings {
  """
  The amount of days between reminders.
  """
  offset: Int!

  """
  The time at which the reminder should be sent.
  """
  time: String!

  """
  The timezone the time is referring to.
  """
  timezone: String!

  """
  Wether to send reminders only from monday to friday.
  """
  weekdaysOnly: Boolean!
}

"""
The reminder settings of a petition
"""
input ReminderSettingsInput {
  """
  The amount of days between reminders.
  """
  offset: Int!

  """
  The time at which the reminder should be sent.
  """
  time: String!

  """
  The timezone the time is referring to.
  """
  timezone: String!

  """
  Whether to send reminders only from monday to friday.
  """
  weekdaysOnly: Boolean!
}

"""
Represents the result of an operation.
"""
enum Result {
  FAILURE
  SUCCESS
}

type SendPetitionResult {
  petition: Petition
  result: Result!
  sendouts: [PetitionSendout!]
}

type SendReminderResult {
  result: Result!
  sendouts: [PetitionSendout]
}

interface Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

input UpdateContactInput {
  firstName: String
  lastName: String
}

input UpdatePetitionFieldInput {
  description: String
  multiple: Boolean
  optional: Boolean
  options: JSONObject
  title: String
}

input UpdatePetitionInput {
  deadline: DateTime
  emailBody: JSON
  emailSubject: String
  locale: PetitionLocale
  name: String
  reminderSettings: ReminderSettingsInput
}

input UpdateUserInput {
  firstName: String
  lastName: String
}

"""
A user in the system.
"""
type User implements Timestamps {
  """
  Time when the resource was created.
  """
  createdAt: DateTime!

  """
  The email of the user.
  """
  email: String!

  """
  The first name of the user.
  """
  firstName: String

  """
  The full name of the user.
  """
  fullName: String

  """
  The ID of the user.
  """
  id: ID!

  """
  The last name of the user.
  """
  lastName: String
  organization: Organization!
  organizationRole: OrganizationRole!

  """
  Time when the resource was last updated.
  """
  updatedAt: DateTime!
}

type UserPagination {
  """
  The requested slice of items.
  """
  items: [User!]!

  """
  The total count of items in the list.
  """
  totalCount: Int!
}
